load(
    "@i_pypi//:requirements.bzl",
    "requirement",
)

# This rule shows that `fusesoc` is indeed installed and working.
genrule(
    name = "test",
    srcs = [ ],
    outs = [ "fusesoc.txt" ],
    tools = [
        "@rules_fusesoc//third_party/fusesoc:run_fusesoc",
        requirement("fusesoc"),
    ],
    cmd = "$(location @rules_fusesoc//third_party/fusesoc:run_fusesoc) --help > $@",
)

# These are generated by fusesoc rules.
filegroup(
    name = "srcs",
    # do not sort
    srcs = [
        "@fusesoc_cores//build/lowrisc_muntjac_core_0.1:lowrisc_muntjac_core_0_1_default_vivado_srcs",
        "@fusesoc_cores//build/lowrisc_muntjac_core_0.1:lowrisc_muntjac_core_0_1_default_vivado_hdrs",
        "@fusesoc_cores//build/lowrisc_muntjac_core_0.1:lowrisc_muntjac_core_0_1_default_verilator_srcs",
        "@fusesoc_cores//build/lowrisc_muntjac_core_0.1:lowrisc_muntjac_core_0_1_default_verilator_hdrs",
    ],
)
